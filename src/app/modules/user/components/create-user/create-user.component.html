<div class="modal-content">
    <div class="modal-header">
        <div class="modal-title h4" id="example-modal-sizes-title-lg">
            <ng-container *ngIf="user">
                <ng-container *ngIf="user.id">Edit</ng-container>
                <ng-container *ngIf="!user.id">Create</ng-container>
                user
                <ng-container *ngIf="user.id">'{{user.first_name}} {{ user.last_name }}'</ng-container>
            </ng-container>
        </div>
    </div>

    <div class="overlay overlay-block cursor-default modal-body" style="min-height: 404px;">
        <ng-container *ngIf="isLoading">
            <div class="overlay-layer bg-transparent">
                <div class="spinner spinner-lg spinner-success"></div>
            </div>
        </ng-container>

        <ng-container *ngIf="user">
            <form action="#" class="form form-label-right" [formGroup]="formGroup" autocomplete="off">
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label class="form-label">Enter First name</label>
                        <input type="text" class="form-control form-control-lg form-control-solid" name="first_name"
                            placeholder="First Name" autocomplete="off"
                            [class.is-invalid]="isControlInvalid('first_name')" formControlName="first_name" />
                        <div class="valid-feedback" *ngIf="isControlValid('first_name')">First name was entered correct
                        </div>
                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'first_name')">First name is
                            required</div>
                        <div class="invalid-feedback" *ngIf="controlHasError('maxLength', 'first_name')">First name
                            should have
                            maximum 100 symbols</div>
                    </div>
                    <div class="col-lg-4">
                        <label class="form-label">Enter Last name</label>
                        <input type="text" class="form-control form-control-lg form-control-solid  is-invalid"
                            name="last_name" placeholder="Last Name" autocomplete="off"
                            [class.is-invalid]="isControlInvalid('last_name')" formControlName="last_name" />
                        <div class="valid-feedback" *ngIf="isControlValid('last_name')">Last name was entered correct
                        </div>
                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'last_name')">Last name is
                            required</div>
                        <div class="invalid-feedback" *ngIf="controlHasError('maxLength', 'last_name')">Last name should
                            have maximum
                            100 symbols</div>
                    </div>
                    <div class="col-lg-4">
                        <label class="form-label">Enter Email</label>
                        <input type="email" class="form-control form-control-lg form-control-solid" name="email"
                            placeholder="Email" autocomplete="nope" [class.is-invalid]="isControlInvalid('email')"
                            formControlName="email" />
                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'email')">Email is required
                        </div>
                        <div class="invalid-feedback" *ngIf="controlHasError('email', 'email')">Email format is
                            incorrect</div>
                    </div>
                </div>
                <div class="form-group row my-5">
                    <div class="col-lg-4">
                        <label class="form-label">Enter Phone Number</label>
                        <input type="text" mask='000-000-0000' class="form-control form-control-lg form-control-solid"
                            name="phone_number" placeholder="000-000-0000" autocomplete="off"
                            [class.is-invalid]="isControlInvalid('phone_number')"
                            [class.is-valid]="isControlValid('phone_number')" formControlName="phone_number" />
                        <div class="invalid-feedback" *ngIf="controlHasError('pattern', 'phone_number')">Phone Number
                            must be number</div>
                    </div>
                    <div class="col-lg-4">
                        <label>Select Status</label>
                        <select class="form-control form-control-lg form-control-solid" name="status"
                            formControlName="status">
                            <option value="Active">Active</option>
                            <option value="Disabled">Disabled</option>
                            <option value="Pending">Pending</option>
                            <option value="Deleted">Deleted</option>
                        </select>
                        <div class="feedback">Please select <b>Status</b></div>
                    </div>
                    <div class="col-lg-4">
                        <label>Select Role</label>
                        <select class="form-control form-control-lg form-control-solid" name="role"
                            formControlName="role">
                            <option value="Admin">Admin</option>
                            <option value="User">User</option>
                        </select>
                        <div class="feedback">Please select <b>Role</b></div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label class="form-label">Enter Password</label>
                        <input type="password" class="form-control form-control-lg form-control-solid" name="password"
                            placeholder="Password" autocomplete="new-password"
                            [class.is-invalid]="isControlInvalid('password')" formControlName="password" />
                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'password')">Password is
                            required</div>
                        <div class="invalid-feedback" *ngIf="controlHasError('pattern', 'password')">Password requires
                            at least 5 characters in length includes at least one letter, one number and one special character
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <label class="form-label">Enter Confirm Password</label>
                        <input type="password" class="form-control form-control-lg form-control-solid" name="cPassword"
                            placeholder="Confirm Password" autocomplete="new-password"
                            [class.is-invalid]="isControlInvalid('cPassword')"
                            [class.is-valid]="isControlValid('cPassword')" formControlName="cPassword" />
                        <div class="valid-feedback" *ngIf="isControlValid('cPassword')">Confirm Password was entered
                            correct</div>
                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'cPassword')">Confirm Password
                            is required</div>
                        <div class="invalid-feedback" *ngIf="controlHasError('ConfirmPassword', 'cPassword')">Confirm
                            Password don't match</div>
                    </div>
                </div>
            </form>
        </ng-container>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-light btn-elevate mr-2" (click)="modal.dismiss()">Cancel</button>
        <ng-container *ngIf="user">
            <button type="submit" class="btn btn-primary btn-elevate" (click)="save()"
                [disabled]="formGroup.invalid || isLoading ">Save</button>
        </ng-container>
        <ng-container *ngIf="isLoading">
            <span class="spinner spinner-primary ml-3 mr-5"></span>
        </ng-container>
    </div>
</div>