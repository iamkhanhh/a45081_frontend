<div class="card card-xxl-stretch mb-5 mb-xl-8">
  <!-- begin::Header -->
  <div class="card-header border-0 pt-5">
    <h3 class="card-title align-items-start flex-column">
      <span class="card-label fw-bolder fs-2 mb-1">My Workspaces</span>
    </h3>
    <div class="card-toolbar" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-trigger="hover"
      title="Click to create a new workspace">
      <button (click)="newWorkspace()" class="btn btn-sm btn-light-primary">
        <span [inlineSVG]="'./assets/media/icons/duotune/arrows/arr075.svg'" class="svg-icon svg-icon-3"></span>
        New Workspace
      </button>
    </div>
  </div>
  <!-- end::Header -->
  <!-- begin::Body -->
  <div class="card-body py-3">

    <ng-container *ngIf="grouping.getSelectedRowsCount()">
			<div class="form">
				<div class="row align-items-center form-group-actions margin-top-20 margin-bottom-20">
					<div class="col-xl-12">
						<div class="form-group form-group-inline">
							<div class="form-label form-label-no-wrap">
								<label class="font-bold font-danger"><span>Selected records count:
										<b>{{ grouping.getSelectedRowsCount() }}</b></span></label>
							</div>
							<div>
								<button type="button" class="btn btn-danger font-weight-bolder font-size-sm mr-1"
									(click)="deleteSelected()">
									<i class="fa fa-trash"></i> Delete All
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</ng-container>

    <app-paginator class="d-flex justify-content-between align-items-center flex-wrap" [paginator]="paginator"
    [isLoading]="isLoading" (paginate)="paginate($event)"></app-paginator>

    <!-- begin::Table container -->
    <div class="table-responsive">
      <!-- begin::Table -->
      <table class="table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4">
        <!-- begin::Table head -->
        <thead>
          <tr class="fw-bolder text-muted">
            <th class="w-25px">
              <div class="
                form-check form-check-sm form-check-custom form-check-solid
              ">
                <input class="form-check-input" type="checkbox" value="1" data-kt-check="true"
                  data-kt-check-target=".widget-9-check" 
                  (click)="grouping.selectAllRows()"
								  [checked]="grouping.checkAreAllRowsSelected()"
                />
              </div>
            </th>
            <th class="min-w-120px">ID</th>
            <th class="min-w-120px">NAME</th>
            <th class="min-w-120px">PIPELINE</th>
            <th class="min-w-120px">NUMBER</th>
            <th class="min-w-120px">LAST MODIFIED</th>
            <th class="min-w-120px">CREATED AT</th>
            <th class="min-w-100px text-end">ACTIONS</th>
          </tr>
        </thead>
        <!-- end::Table head -->
        <!-- begin::Table body -->
        <tbody *ngFor="let workspace of workspaces">
          <tr>
            <td>
              <div class="
                form-check form-check-sm form-check-custom form-check-solid
              ">
                <input 
                  class="form-check-input widget-9-check" 
                  type="checkbox" 
                  value="{{workspace.id}}" 
                  (click)="grouping.selectRow(workspace.id)"
									[checked]="grouping.isRowSelected(workspace.id)"
                />
              </div>
            </td>
            <td>
              <p class="text-gray-900 fw-bolder d-block fs-6" style="margin-top: revert;">
                {{workspace.id}}
              </p>
            </td>
            <td>
              <div class="d-flex align-items-center">
                <div class="d-flex justify-content-start flex-column">
                  <a routerLink="/workspaces/index/{{workspace.id}}" class="text-gray-900 fw-bolder text-hover-primary fs-6">
                    {{workspace.name}}
                  </a>
                </div>
              </div>
            </td>
            <td>
              <p class="text-gray-900 fw-bolder d-block fs-6" style="margin-top: revert;">
                {{workspace.pipeline_name}}
              </p>
            </td>
            <td>
              <p class="text-gray-900 fw-bolder d-block fs-6" style="margin-top: revert;">
                {{workspace.number}}
              </p>
            </td>
            <td>
              <p class="text-gray-900 fw-bolder d-block fs-6" style="margin-top: revert;">
                {{workspace.updatedAt}}
              </p>
            </td>
            <td>
              <p class="text-gray-900 fw-bolder d-block fs-6" style="margin-top: revert;">
                {{workspace.createdAt}}
              </p>
            </td>
            <td>
              <div class="d-flex justify-content-end flex-shrink-0">
                <button (click)="edit(workspace.id)" class="
                  btn btn-icon btn-bg-light btn-active-color-primary btn-sm
                  me-1
                ">
                  <span [inlineSVG]="'./assets/media/icons/duotune/art/art005.svg'" class="svg-icon svg-icon-3"></span>
                </button>
                <button (click)="delete(workspace.id)" class="
                  btn btn-icon btn-bg-light btn-active-color-primary btn-sm
                ">
                  <span [inlineSVG]="
                    './assets/media/icons/duotune/general/gen027.svg'
                  " class="svg-icon svg-icon-3"></span>
                </button>
              </div>
            </td>
          </tr>
        </tbody>
        <!-- end::Table body -->
      </table>
      <!-- end::Table -->
    </div>
    <!-- end::Table container -->
    <app-paginator class="d-flex justify-content-between align-items-center flex-wrap" [paginator]="paginator"
    [isLoading]="isLoading" (paginate)="paginate($event)"></app-paginator>
  </div>
  <!-- begin::Body -->
</div>